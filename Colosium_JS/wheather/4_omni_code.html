<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Weather App</title>
</head>
<body>
  <h1>Weather App</h1>

  <label for="city">Enter city:</label>
  <input type="text" id="city" placeholder="e.g., London">

  <button id="searchBtn">Search</button>

  <p id="status"></p>

  <div id="result">
        <h2 id="cityName"></h2>
        <p id="temp"></p>
        <p id="description"></p>
        <img id="icon" alt="Weather icon" />
        <p id="extra"></p>
  </div>

  <script>
    const searchBtn = document.getElementById("searchBtn");
const cityInput = document.getElementById("city");
const status = document.getElementById("status");
const cityName = document.getElementById("cityName");
const temp = document.getElementById("temp");
const description = document.getElementById("description");
const icon = document.getElementById("icon");
const extra = document.getElementById("extra");

const API_KEY = "df2f45836d87daaca0cbebee1eef0865";

searchBtn.addEventListener("click", () => {
  const city = cityInput.value.trim();

  if (!city) {
    status.innerText = "Please enter a city name!";
    return;
  }

  if (!navigator.onLine) {
    status.innerText = "You are offline. Check your internet connection.";
    return;
  }

  searchBtn.disabled = true;
  status.innerText = "Loading...";

  const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${API_KEY}`;

  fetch(url)
    .then(response => {
      if (!response.ok) throw new Error("City not found");
      return response.json();
    })
    .then(data => {
      cityName.innerText = `${data.name}, ${data.sys.country}`;
      temp.innerText = `${Math.round(data.main.temp)}Â°C`;
      description.innerText = data.weather[0].description;
      icon.src = `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;
      icon.alt = `Weather icon: ${data.weather[0].description}`;
      extra.innerText = `Humidity: ${data.main.humidity}% | Wind: ${data.wind.speed} m/s`;

      status.innerText = ""; 
    })
    .catch(error => {
      status.innerText = error.message;
    })
    .finally(() => {
      searchBtn.disabled = false;
    });
});
  </script>
</body>
</html>