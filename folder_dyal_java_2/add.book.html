<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="boss_inputs">
        <label for="name"> Enter the Name : </label>
        <input type="text" id="name">

        <label for="last_name"> Enter the last name : </label>
        <input type="text" id="last_name">

        <label for="classe"> Enter the class : </label>
        <input type="text" id="classe">

        <label for="qualifide"> Enter if he is qualified : </label>
        <input type="radio" name="choice" value="qualifeid"> qualifeid 
        <input type="radio" name="choice" value="not qualifeid"> not qualifeid

        <label for="tax"> enter the tax : </label>
        <input type="text" id="tax">

        <label for="photo"> Enter the photo : </label>
        <input type="file" id="photo" accept="image/*">

        <button onclick="button_function()">add</button>
        <button onclick="Cancel_function()">Cancel</button>
    </div>
    <div id="result"></div>
    <script>
 
   

        function addPerson() {
         
    
            let name_1 = document.getElementById("name").value;
            let price_1 = document.getElementById("price_1").value;
            let possibility_1 = document.getElementById("possibility").value;
            let input = document.getElementById('photo').files[0];
            
    
          if (name_1 && price_1 && possibility_1 && input ) 
          {
            // get old list from localStorage
          
          
    
            let reader = new FileReader();
            reader.onload = function(e) {
    
              let people = JSON.parse(localStorage.getItem("peopleList")) || [];
    
              let newPerson = {
              title: title1,
              code: code1,
              author: autor1,
              year: year1,
              price: price1,
              status: possibility1,
              photo: e.target.result, // Base64 image data
              message: message1
              };
            
            // add new person
            people.push(newPerson);
    
            // save it back
            localStorage.setItem("peopleList", JSON.stringify(people));
            
            // show in current page
            let resultDiv = document.getElementById("result");
            resultDiv.innerHTML += `
            <strong>title:</strong> ${newPerson.title}<br>
            <strong>code:</strong> ${newPerson.code}<br>
            <strong>author:</strong> ${newPerson.author}<br>
            <strong>year:</strong> ${newPerson.year}<br>
            <strong>price:</strong> ${newPerson.price}<br>
            <strong>status:</strong> ${newPerson.status}<br>
            <strong>message:</strong> ${newPerson.message}<br>
            <strong>photo:</strong>  <img src="${newPerson.photo}" width="100"><br>
                 `;
    
            // close popup
            closePopup();
    
            // clear inputs
              document.getElementById("title").value = "";
              document.getElementById("code").value = "";
              document.getElementById("autor").value = "";
              document.getElementById("year").value = "";
              document.getElementById("price").value = "" ;
              document.getElementById("possibility").value = "" ;
              document.getElementById("message").value = "" ;
              document.getElementById('photo').value = "" ;
              
          } 
    
          reader.readAsDataURL(input);
    
    
          }
          else
          {
            alert("Please enter both name and family name.");
          }
        }
    
      
      </script>
</body>
</html>